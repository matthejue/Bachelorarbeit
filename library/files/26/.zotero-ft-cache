
Skip to main content
GitHub Community
Running a bash script
Code to Cloud GitHub Actions
Log In

Running a bash script
Code to Cloud GitHub Actions
Nov 2020
2 / 5
Nov 2020
Nov 2020
sigfrid
Nov '20

Hi there,
What is the simplest way to create a workflow that runs a bash script?
I understand I can create a separate action which runs the script and use it in my workflow. I have done that for action shared among multiple repositories.

However, now I need to run a custom script in a single repo and, I feel a separate action is too much.

I’d like to be able to do run a bash script saved at ROOT/.github/script.sh but I can’t figure out how to specify the path in the run step of the workflow below.

    name: run-script
    on: push

    jobs:
    run:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: script
    run: PATH/script.sh
    shell: bash
    with:
    password: ${{ secrets.ACCESS_TOKEN }}

Thanks.
Solved by airtower-luna in post #2

    With that setup the path to the script is relative to the root of your repository, so if your script is .github/script.sh that’s all that’s needed in the run step. Remember that the file must be marked as executable, or you need to explicitly call bash with the script as parameter. 

4

    created
    Nov '20
    last reply
    Nov '20
    4
    replies
    35.9k
    views
    3
    users
    11
    likes
    3

airtower-luna Advisory Council Member
Nov '20

With that setup the path to the script is relative to the root of your repository, so if your script is .github/script.sh that’s all that’s needed in the run step. Remember that the file must be marked as executable, or you need to explicitly call bash with the script as parameter.
1 Reply
Solution
Simran-B Advisory Council Member
Nov '20

To be more explicit, you can write ./.github/script.sh .

If you want to know the full path where the working copy resides in the runner, then you can do run: pwd which will print the working directory.

The absolute path should be /home/runner/work/{repo-name}/{repo-name}/.github/script.sh , so this should also work:

 
 - run: | # make file runnable, might not be necessary chmod +x "${GITHUB_WORKSPACE}/.github/script.sh" # run script "${GITHUB_WORKSPACE}/.github/script.sh" # or "$ {{ format('{0}/.github/script.sh', github.workspace) }} "  

1 Reply
6
sigfrid
Nov '20
airtower-luna:

    call bash with the script as parameter.

Thanks for the reply.
1
sigfrid
Simran-B
Nov '20

Thanks for your help.
Reply
Suggested Topics
Topic 	Replies 	Views 	Activity
How do I find out *WHAT* is not found?
GitHub Actions
	2 	385 	Jan 30
PR build fails but the branch builds
GitHub Actions
	2 	317 	Nov '21
Set env values conditionally
GitHub Actions
	2 	198 	Sep '21
[Bug] When an Action is manually re-run, the UI shows incorrect information about what triggered it
GitHub Actions
	1 	379 	Jun '21
Using a workflow to create a tag failing with permission
GitHub Actions
	4 	267 	11d
Want to read more? Browse other topics in GitHub Actions or view latest topics .

    © 2021 GitHub, Inc.
    Terms
    Privacy
    Security
    Status
    Docs

    About
    Blog
    Shop
    Training
    API
    Contact GitHub

